---
output: github_document
---

```{r, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
library(levitate)
```

<!-- README.md is generated from README.Rmd. Please edit that file -->

# Fuzzy string matching for R

<!-- [![](http://cranlogs.r-pkg.org/badges/grand-total/levitate)](https://cran.r-project.org/package=levitate) -->

`levitate` is based on the Python [fuzzywuzzy](https://github.com/seatgeek/fuzzywuzzy) package for
fuzzy string matching. An R port of this already exists, but unlike 
[fuzzywuzzyR](https://github.com/mlampros/fuzzywuzzyR), `levitate` is written entirely in R with no
external dependencies on `reticulate` or Python. It also offers a couple of extra bells and whistles
in the form of vectorised functions.

## Why "`levitate`"?
A common measure of string similarity is the
[**Lev**enshtein distance](https://en.wikipedia.org/wiki/Levenshtein_distance), and the name was
available on CRAN.

## Examples

### `lev_distance()`
The edit distance is the number of additions, subtractions or substitutions needed to transform one
string into another. Base R provides the `adist()` function to compute this. `levitate` provides
`lev_distance()` which is powered by the
[`stringdist`](https://github.com/markvanderloo/stringdist) package.

```{r}
lev_distance("cat", "bat")

lev_distance("rat", "rats")

lev_distance("cat", "rats")
```

The function can accept vectorised input. Where the inputs have a `length()` greater than 1 the
results are returned as a matrix.
```{r}
lev_distance(c("cat", "dog", "clog"), c("rat", "log", "frog"))
```

However if at least one (or both) of the inputs is scalar (length 1) we can return a vector. The
elements of the vector are named based on the longer input.
```{r}
lev_distance(c("cat", "dog", "clog"), "rat")

lev_distance("cat", c("rat", "log", "frog", "other"))
```

### `lev_ratio()`
More useful than the edit distance, `lev_ratio()` makes it easier to compare similarity across
different strings. Identical strings will get a score of 1 and entirely dissimilar strings will get
a score of 0.

This function behaves exactly like `lev_distance()`:

```{r}
lev_ratio("cat", "bat")

lev_ratio("rat", "rats")

lev_ratio("cat", "rats")

lev_ratio(c("cat", "dog", "clog"), c("rat", "log", "frog"))
```

### `lev_partial_ratio()`
_TODO_

### `lev_token_sort_ratio()`
_TODO_

### `lev_token_set_ratio()`
_TODO_

## Porting code from `fuzzywuzzy` or `fuzzywuzzyR`
The underlying algorithms differ between `levitate` and `fuzzywuzzy`, not least because
[`stringdist`]((https://github.com/markvanderloo/stringdist)) offers several possible similarity
measures. Be careful if you are porting code that relies on hard-coded or learned cutoffs for
similarity measures.
